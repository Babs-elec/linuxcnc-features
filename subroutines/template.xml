<LinuxCNC-Features>
  <feature src="gcode.ini" expanded="True" help="Flat Gcode&#10;.&#9;\n can be used to split lines&#10;.&#9;lines will be parsed as usual so you can use &amp;lt;eval&amp;gt;&amp;lt;/eval&amp;gt;" icon="icons/gcode.png" image="images/simp.png" after="" order="[]" call="&#10;(Gcode lines)&#10; #param_1&#10; #param_2&#10; #param_3&#10; #param_4&#10; #param_5&#10;(Gcode lines end)" selected="False" path="0" definitions="&#10;" before="&#10;" type="Gcode" id="Gcode-0001" name="Gcode 0001">
    <param tool_tip="Gcode line" expanded="False" name="Line 1" selected="False" value="F1000" call="#param_1" path="0:0" type="string"/>
    <param tool_tip="Gcode line" expanded="False" name="Line 2" selected="False" value="" call="#param_2" path="0:1" type="string"/>
    <param tool_tip="Gcode line" expanded="False" name="Line 3" selected="False" value="" call="#param_3" path="0:2" type="string"/>
    <param tool_tip="Gcode line" expanded="False" name="Line 4" selected="True" value="" call="#param_4" path="0:3" type="string"/>
    <param tool_tip="Gcode line" expanded="False" name="Line 5" selected="False" value="" call="#param_5" path="0:4" type="string"/>
  </feature>
  <feature src="set-cutting-params.ini" after="" help="Sets global cutting depth, depth step, surface origin, and rappid distance." name="Set cutting params 0001" image="images/simp.png" expanded="False" id="Set-cutting-params-0001" call="&#10;&#9;#&lt;_global_surface&gt; = [#param_1]&#10;&#9;#&lt;_global_depth&gt; = [#param_2]&#10;&#9;#&lt;_global_depth_step&gt; = [#param_3]&#10;&#9;#&lt;_global_rappid&gt; = [#param_4]&#10;&#9;#&lt;_global_final&gt; = [#param_5]&#10;" selected="False" definitions="" path="1" before="&#10;" type="Set cutting params" order="[]" icon="icons/tool.png">
    <param tool_tip="Surface" expanded="False" name="Surface" selected="False" value="0" call="#param_1" path="1:0" type="float" icon="icons/dz.png"/>
    <param tool_tip="Depth" expanded="False" name="Depth" selected="False" value="-10" call="#param_2" path="1:1" type="float" icon="icons/dz.png"/>
    <param tool_tip="Depth step" expanded="False" name="Depth step" selected="False" value="1" call="#param_3" path="1:2" type="float" icon="icons/dz.png"/>
    <param tool_tip="Rappid distance" expanded="False" name="Rappid" selected="False" value="10" call="#param_4" path="1:3" type="float" icon="icons/dz.png"/>
    <param tool_tip="Final cut depth" expanded="False" name="Final cut" selected="False" value=".1" call="#param_5" path="1:4" type="float" icon="icons/dz.png"/>
  </feature>
  <feature src="circular-array.ini" expanded="False" help="&lt;big&gt;Create array of items&lt;/big&gt;&#10;.&#9;Drag and drop subroutines into Items parameter.&#10;.&#9;Parameters num, dX, dY, dZ&#10;.&#9;Modifies defined coordinate system to make offsets! Returns to G54 afterwards!" icon="icons/circular-array.png" image="images/circular-array.png" after="&#10;&#9;; angle increment&#10;&#9;&#9;#&lt;#self_id-ang&gt;  = [#&lt;#self_id-ang&gt; + #param_fill_angle/#param_num]&#10;&#9;O&lt;#self_id&gt; END REPEAT&#10;&#10;&#9;O&lt;coordinate-sys-from-num&gt;&#9;CALL [#&lt;#self_id-restore-coord&gt;]&#10;&#9;G[#&lt;_coordinate-from-num&gt;]&#10;(End Circular Array - #self_id)" order="['param_num', 'param_cx', 'param_cy', 'param_d', 'param_ang', 'param_fill_angle', 'param_coord', 'param_rotate', 'param_items', 'param_.']" call="" selected="False" path="2" definitions="" before="&#10;(Circular Array - #self_id)&#10;&#9;&lt;eval&gt;self.include_once(&quot;rotate-xy.ngc&quot;)&lt;/eval&gt;&#10;&#9;&lt;eval&gt;self.include_once(&quot;get-offsets.ngc&quot;)&lt;/eval&gt;&#10;&#10;&#9;(Get cx,cy in machine coordinates)&#10;&#9;O&lt;get-offsets&gt; CALL&#10;&#9;#&lt;#self_id-cx&gt; = [#&lt;_get_offsets_x&gt; + #param_cx]&#10;&#9;#&lt;#self_id-cy&gt; = [#&lt;_get_offsets_y&gt; + #param_cy]&#10;&#9;#&lt;#self_id-r&gt; = #&lt;_get_offsets_r&gt;&#10;&#9;#&lt;#self_id-restore-coord&gt; = #5220&#10;&#9;(Circular Array)&#10;&#9;#&lt;#self_id-ang&gt; = [#param_ang+#&lt;_get_offsets_r&gt;]&#10;&#9;G[#param_coord]&#10;&#9;; full id of feature is used to make able array of array's&#10;&#9;O&lt;#self_id&gt; REPEAT [#param_num]&#10;&#9;&#9;G92.1 (disable G92 offsets - they ruin the array after rotating coordinates)&#10;&#9;&#9;(move and rotate coordinates)&#10;&#10;&#9;&#9;(Get rotated coordinates)&#10;&#9;&#9;O&lt;rotate-xy&gt; CALL [#&lt;#self_id-cx&gt;+#param_d/2] [#&lt;#self_id-cy&gt;] [#&lt;#self_id-cx&gt;] [#&lt;#self_id-cy&gt;] [#&lt;#self_id-ang&gt;]&#10;&#9;&#9;#&lt;#self_id-x&gt; = #&lt;_rotate_result_x&gt;&#10;&#9;&#9;#&lt;#self_id-y&gt; = #&lt;_rotate_result_y&gt;&#10;&#10;&#9;&#9;O&lt;#self_id-if&gt; IF [#param_rotate] (Enable rotations)&#10;&#9;&#9;&#9;G10 L2 P[#param_coord-53]  X#&lt;#self_id-x&gt; Y#&lt;#self_id-y&gt;  R#&lt;#self_id-ang&gt;&#10;&#9;&#9;O&lt;&lt;eval&gt;self.get_attr(&quot;id&quot;)&lt;/eval&gt;-if&gt; ELSE&#10;&#9;&#9;&#9;G10 L2 P[#param_coord-53]  X#&lt;#self_id-x&gt; Y#&lt;#self_id-y&gt;&#10;&#9;&#9;O&lt;&lt;eval&gt;self.get_attr(&quot;id&quot;)&lt;/eval&gt;-if&gt; ENDIF&#10;&#9;&#9;; array body&#10;" type="Circular array" id="Circular-array-0001" name="Circular array 0001">
    <param tool_tip="Number of copies" expanded="False" name="Number" selected="False" value="6" call="#param_num" path="2:0" type="int" icon="icons/rect.png"/>
    <param tool_tip="X of array center" expanded="False" name="cX" selected="False" value="0" call="#param_cx" path="2:1" type="float" icon="icons/center.png"/>
    <param tool_tip="Y of array center" expanded="False" name="cY" selected="False" value="0" call="#param_cy" path="2:2" type="float" icon="icons/center.png"/>
    <param tool_tip="Array diameter" expanded="False" name="D" selected="False" value="100" call="#param_d" path="2:3" type="float" icon="icons/diameter.png"/>
    <param tool_tip="Angle for the first array item (0 points to X positive direction)" expanded="False" name="Start angle" selected="False" value="0" call="#param_ang" path="2:4" type="float" icon="icons/angle.png"/>
    <param tool_tip="Angle to fill with array" expanded="False" name="Fill angle" selected="False" value="360" call="#param_fill_angle" path="2:5" type="float" icon="icons/angle.png"/>
    <param tool_tip="Angle to fill with array" expanded="False" name="Coordinate system G" selected="False" value="57" call="#param_coord" path="2:6" type="string"/>
    <param tool_tip="Rotate each item (1=Rotate, 0=No)" expanded="False" name="Rotate" selected="False" value="1" call="#param_rotate" path="2:7" type="bool"/>
    <param tool_tip="Drop Subroutines here" expanded="False" name="Items" selected="False" call="#param_items" path="2:8" type="items" icon="icons/items.png">
      <feature src="circular-array.ini" after="&#10;&#9;; angle increment&#10;&#9;&#9;#&lt;#self_id-ang&gt;  = [#&lt;#self_id-ang&gt; + #param_fill_angle/#param_num]&#10;&#9;O&lt;#self_id&gt; END REPEAT&#10;&#10;&#9;O&lt;coordinate-sys-from-num&gt;&#9;CALL [#&lt;#self_id-restore-coord&gt;]&#10;&#9;G[#&lt;_coordinate-from-num&gt;]&#10;(End Circular Array - #self_id)" help="&lt;big&gt;Create array of items&lt;/big&gt;&#10;.&#9;Drag and drop subroutines into Items parameter.&#10;.&#9;Parameters num, dX, dY, dZ&#10;.&#9;Modifies defined coordinate system to make offsets! Returns to G54 afterwards!" name="Circular array 0002" image="images/circular-array.png" expanded="False" id="Circular-array-0002" call="" selected="False" definitions="" path="2:8:0" before="&#10;(Circular Array - #self_id)&#10;&#9;&lt;eval&gt;self.include_once(&quot;rotate-xy.ngc&quot;)&lt;/eval&gt;&#10;&#9;&lt;eval&gt;self.include_once(&quot;get-offsets.ngc&quot;)&lt;/eval&gt;&#10;&#10;&#9;(Get cx,cy in machine coordinates)&#10;&#9;O&lt;get-offsets&gt; CALL&#10;&#9;#&lt;#self_id-cx&gt; = [#&lt;_get_offsets_x&gt; + #param_cx]&#10;&#9;#&lt;#self_id-cy&gt; = [#&lt;_get_offsets_y&gt; + #param_cy]&#10;&#9;#&lt;#self_id-r&gt; = #&lt;_get_offsets_r&gt;&#10;&#9;#&lt;#self_id-restore-coord&gt; = #5220&#10;&#9;(Circular Array)&#10;&#9;#&lt;#self_id-ang&gt; = [#param_ang+#&lt;_get_offsets_r&gt;]&#10;&#9;G[#param_coord]&#10;&#9;; full id of feature is used to make able array of array's&#10;&#9;O&lt;#self_id&gt; REPEAT [#param_num]&#10;&#9;&#9;G92.1 (disable G92 offsets - they ruin the array after rotating coordinates)&#10;&#9;&#9;(move and rotate coordinates)&#10;&#10;&#9;&#9;(Get rotated coordinates)&#10;&#9;&#9;O&lt;rotate-xy&gt; CALL [#&lt;#self_id-cx&gt;+#param_d/2] [#&lt;#self_id-cy&gt;] [#&lt;#self_id-cx&gt;] [#&lt;#self_id-cy&gt;] [#&lt;#self_id-ang&gt;]&#10;&#9;&#9;#&lt;#self_id-x&gt; = #&lt;_rotate_result_x&gt;&#10;&#9;&#9;#&lt;#self_id-y&gt; = #&lt;_rotate_result_y&gt;&#10;&#10;&#9;&#9;O&lt;#self_id-if&gt; IF [#param_rotate] (Enable rotations)&#10;&#9;&#9;&#9;G10 L2 P[#param_coord-53]  X#&lt;#self_id-x&gt; Y#&lt;#self_id-y&gt;  R#&lt;#self_id-ang&gt;&#10;&#9;&#9;O&lt;&lt;eval&gt;self.get_attr(&quot;id&quot;)&lt;/eval&gt;-if&gt; ELSE&#10;&#9;&#9;&#9;G10 L2 P[#param_coord-53]  X#&lt;#self_id-x&gt; Y#&lt;#self_id-y&gt;&#10;&#9;&#9;O&lt;&lt;eval&gt;self.get_attr(&quot;id&quot;)&lt;/eval&gt;-if&gt; ENDIF&#10;&#9;&#9;; array body&#10;" type="Circular array" order="['param_num', 'param_cx', 'param_cy', 'param_d', 'param_ang', 'param_fill_angle', 'param_coord', 'param_rotate', 'param_items', 'param_.']" icon="icons/circular-array.png">
        <param tool_tip="Number of copies" expanded="False" name="Number" selected="False" value="6" call="#param_num" path="2:8:0:0" type="int" icon="icons/rect.png"/>
        <param tool_tip="X of array center" expanded="False" name="cX" selected="False" value="0" call="#param_cx" path="2:8:0:1" type="float" icon="icons/center.png"/>
        <param tool_tip="Y of array center" expanded="False" name="cY" selected="False" value="0" call="#param_cy" path="2:8:0:2" type="float" icon="icons/center.png"/>
        <param tool_tip="Array diameter" expanded="False" name="D" selected="False" value="100" call="#param_d" path="2:8:0:3" type="float" icon="icons/diameter.png"/>
        <param tool_tip="Angle for the first array item (0 points to X positive direction)" expanded="False" name="Start angle" selected="False" value="0" call="#param_ang" path="2:8:0:4" type="float" icon="icons/angle.png"/>
        <param tool_tip="Angle to fill with array" expanded="False" name="Fill angle" selected="False" value="360" call="#param_fill_angle" path="2:8:0:5" type="float" icon="icons/angle.png"/>
        <param tool_tip="Angle to fill with array" expanded="False" name="Coordinate system G" selected="False" value="57" call="#param_coord" path="2:8:0:6" type="string"/>
        <param tool_tip="Rotate each item (1=Rotate, 0=No)" expanded="False" name="Rotate" selected="False" value="1" call="#param_rotate" path="2:8:0:7" type="bool"/>
        <param tool_tip="Drop Subroutines here" expanded="False" name="Items" selected="False" call="#param_items" path="2:8:0:8" type="items" icon="icons/items.png">
          <feature src="circle.ini" after="" help="&lt;big&gt;Creates circle&lt;/big&gt;&#10;.&#9;Parameters: &lt;i&gt;CX CY R Depth Rappid&lt;/i&gt;" name="Circle 0001" image="images/circle.png" expanded="False" id="Circle-0001" call="&#10;(Call circle sub cx cy r depth rappid)&#10;O&lt;multipass&gt; CALL [#&lt;_circle-sub&gt;]  [#param_depth]  [#param_depth_step]  [#param_surface]  [#param_rappid]  [#param_final] [#param_cx+#param_d/2] [#param_cy] [#param_d/2]&#10;" selected="False" definitions="&#10;&lt;eval&gt;self.include_once(&quot;multipass.ngc&quot;)&lt;/eval&gt;&#10;&#10;(Circle sub definition)&#10;#&lt;_circle-sub&gt; = &lt;eval&gt;self.get_unique_id()&lt;/eval&gt; ; should be unique id&#10;O#&lt;_circle-sub&gt; sub&#10;&#9;#&lt;cx&gt; = [#1-#3]&#10;&#9;#&lt;cy&gt; = #2&#10;&#9;#&lt;r&gt;  = #3&#10;&#9;G3 X[#&lt;cx&gt;+#&lt;r&gt;] Y#&lt;cy&gt; I[-#&lt;r&gt;]&#10;O#&lt;_circle-sub&gt; endsub&#10;" path="2:8:0:8:0" before="&#10;" type="Circle" order="['param_cx', 'param_cy', 'param_d', 'param_depth', 'param_depth_step', 'param_surface', 'param_final', 'param_rappid']" icon="icons/circle.png">
            <param tool_tip="CX" expanded="False" name="CX" selected="False" value="0" call="#param_cx" path="2:8:0:8:0:0" type="float" icon="icons/rect.png"/>
            <param tool_tip="CY" expanded="False" name="CY" selected="False" value="0" call="#param_cy" path="2:8:0:8:0:1" type="float" icon="icons/rect.png"/>
            <param tool_tip="Diameter" expanded="False" name="D" selected="False" value="1" call="#param_d" path="2:8:0:8:0:2" type="float" icon="icons/diameter.png"/>
            <param tool_tip="Depth" expanded="False" name="Depth" selected="False" value="-1" call="#param_depth" path="2:8:0:8:0:3" type="float" icon="icons/height.png"/>
            <param tool_tip="Depth step per pass" expanded="False" name="Depth step" selected="False" value="#&lt;_global_depth_step&gt;" call="#param_depth_step" path="2:8:0:8:0:4" type="float" icon="icons/dz.png"/>
            <param tool_tip="Surface height" expanded="False" name="Surface" selected="False" value="0" call="#param_surface" path="2:8:0:8:0:5" type="float" icon="icons/dz.png"/>
            <param tool_tip="Rappid height" expanded="False" name="Final cut" selected="False" value="0" call="#param_final" path="2:8:0:8:0:6" type="float" icon="icons/height.png"/>
            <param tool_tip="Rappid height" expanded="False" name="Rappid" selected="False" value="1" call="#param_rappid" path="2:8:0:8:0:7" type="float" icon="icons/height.png"/>
          </feature>
        </param>
      </feature>
    </param>
  </feature>
</LinuxCNC-Features>
